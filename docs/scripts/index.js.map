{"version":3,"file":"index.js","sources":["untils/getInterval.ts","untils/load.ts"],"sourcesContent":["export function getInterval(str: string, interval = 16): number {\n  if (/\\D[\\,]\\s$/.test(str)) return interval * 20\n  if (/[^\\/]\\n\\n$/.test(str)) return interval * 40\n  if (/[\\.\\?\\!]\\s$/.test(str)) return interval * 60\n  return 0\n}\n","import {LoadParams} from \"../interface\";\nimport {getInterval} from \"./getInterval\";\n// import * as Prism from 'prismjs';\nimport * as $ from 'jquery'\nexport function load(item: LoadParams): Promise<void> {\n  return new Promise((resolve, reject) => {\nconsole.log($)\n\n    let container = item.container\n    let num = 0\n    let sum = item.load.length\n    let containerOriginContent = item.rewrite ? '' : container.innerHTML\n    let interval = 16\n    const startLoad = (): void => {\n      setTimeout(() => {\n        num += 1\n        if (num <= sum) {\n\n          let str = item.load.substr(0, num)\n          // let code = Prism.highlight(str, Prism.languages.css)\n          let nextInterval = getInterval(str, interval)\n\n          container.scrollTop = 100000\n\n          container.innerHTML = containerOriginContent + str\n\n          setTimeout(() => {\n            startLoad()\n          }, nextInterval)\n\n        } else {\n          return resolve()\n        }\n      }, interval)\n    }\n\n    startLoad()\n  })\n}\n"],"names":[],"mappings":";;;;;;SAAgB,WAAW,CAAC,GAAW,EAAE,QAAQ,GAAG,EAAE;IACpD,IAAI,WAAW,CAAC,IAAI,CAAC,GAAG,CAAC;QAAE,OAAO,QAAQ,GAAG,EAAE,CAAA;IAC/C,IAAI,YAAY,CAAC,IAAI,CAAC,GAAG,CAAC;QAAE,OAAO,QAAQ,GAAG,EAAE,CAAA;IAChD,IAAI,aAAa,CAAC,IAAI,CAAC,GAAG,CAAC;QAAE,OAAO,QAAQ,GAAG,EAAE,CAAA;IACjD,OAAO,CAAC,CAAA;CACT;;ACHD;AACA,SACgB,IAAI,CAAC,IAAgB;IACnC,OAAO,IAAI,OAAO,CAAC,CAAC,OAAO,EAAE,MAAM;QACrC,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAA;QAEV,IAAI,SAAS,GAAG,IAAI,CAAC,SAAS,CAAA;QAC9B,IAAI,GAAG,GAAG,CAAC,CAAA;QACX,IAAI,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAA;QAC1B,IAAI,sBAAsB,GAAG,IAAI,CAAC,OAAO,GAAG,EAAE,GAAG,SAAS,CAAC,SAAS,CAAA;QACpE,IAAI,QAAQ,GAAG,EAAE,CAAA;QACjB,MAAM,SAAS,GAAG;YAChB,UAAU,CAAC;gBACT,GAAG,IAAI,CAAC,CAAA;gBACR,IAAI,GAAG,IAAI,GAAG,EAAE;oBAEd,IAAI,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,GAAG,CAAC,CAAA;;oBAElC,IAAI,YAAY,GAAG,WAAW,CAAC,GAAG,EAAE,QAAQ,CAAC,CAAA;oBAE7C,SAAS,CAAC,SAAS,GAAG,MAAM,CAAA;oBAE5B,SAAS,CAAC,SAAS,GAAG,sBAAsB,GAAG,GAAG,CAAA;oBAElD,UAAU,CAAC;wBACT,SAAS,EAAE,CAAA;qBACZ,EAAE,YAAY,CAAC,CAAA;iBAEjB;qBAAM;oBACL,OAAO,OAAO,EAAE,CAAA;iBACjB;aACF,EAAE,QAAQ,CAAC,CAAA;SACb,CAAA;QAED,SAAS,EAAE,CAAA;KACZ,CAAC,CAAA;CACH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}